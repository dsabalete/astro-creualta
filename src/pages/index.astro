---
import BaseLayout from '../layouts/BaseLayout.astro'
import Sections from '../components/Sections.astro'
import Sponsors from '../components/Sponsors/Sponsors.astro'
import { SITE_TITLE, SITE_DESCRIPTION } from '../config'

const ultima = (await Astro.glob('./noticies/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
)[0];
---

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <div class="hero">
    <img src="/images/tothom.jpg" alt="Foto del Club">
  </div>
  
  <Sections />

  <hr />
  
  {ultima && (
    <div class="ultima-noticia">
      <h3>Última notícia</h3>
      <div><a href={ultima.url}>{ultima.frontmatter.title}</a></div>
    </div>
  )}

  <hr />

  <Sponsors />
</BaseLayout>

<style lang="scss">
  $primary-color: #1F71B6;
  h2 {
    color: $primary-color;
    text-align: center;
  }
  .hero {
    margin: 2rem 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .hero img {
    border-radius: 10px;
    max-width: 100%;
    max-height: 100%;
  }
  @media (min-width: 768px) {
    .hero {
      margin: 2rem 0;
    }
  }
  hr {
    width: 100px;
    border-top: 1px solid var(--color-primary);
  }
  .ultima-noticia {
    margin: 2rem 0;
    
    div {
      width: 100%;
      text-align: center;
    }
  }
</style>